# 쇼핑몰 백엔드 시스템 구축 프로젝트

이 프로젝트는 Spring Boot를 사용하여 소상공인을 위한 쇼핑몰 사이트의 백엔드를 구축하는 것입니다. 

프론트엔드 없이 백엔드만 개발하며, Postman을 사용하여 API를 테스트합니다.

이 프로젝트는 KTECH의 백엔드 과정에서 개인적으로 수행한 세 번째 프로젝트입니다.

## 기본 요구사항

### 사용자 관리

- **회원가입**: 사용자 정보를 입력하여 회원가입을 진행하고, 프로필 이미지를 업로드합니다.
- **로그인**: JWT를 사용하여 사용자 인증을 진행합니다. 
- **정보 수정**: 사용자는 개인 정보를 수정하고 프로필 이미지를 업데이트할 수 있습니다. 
- **권한 관리**: 사용자 권한을 관리하며, 비활성 사용자, 일반 사용자, 사업자 사용자 및 관리자로 역할을 나눕니다.
    - 비활성 사용자, 일반 사용자, 사업자 사용자, 관리자 네 가지 역할이 정의되어 있습니다.
    - 비활성 사용자는 필수 정보를 추가하면 일반 사용자로 전환됩니다.
    - 일반 사용자는 사업자 사용자 전환 신청을 할 수 있으며, 관리자가 승인 또는 거절할 수 있습니다.

### 쇼핑몰 운영하기

- **쇼핑몰 개설**:
    - 사업자 사용자가 쇼핑몰 개설 요청을 하고, 관리자가 이를 승인하면 쇼핑몰이 오픈 상태가 됩니다.
- **쇼핑몰 관리**:
    - 쇼핑몰 주인은 상품을 등록, 수정, 삭제할 수 있습니다.
- **쇼핑몰 조회 및 상품 검색**:
    - 비활성 사용자를 제외한 모든 사용자는 쇼핑몰과 상품을 조회하고 검색할 수 있습니다.
### 주문 처리
- **주문 생성**: 사용자가 장바구니의 아이템을 주문으로 변환하여 각 상점에 대한 주문을 생성합니다. 
- **장바구니 관리**: 사용자는 장바구니에 아이템을 추가, 수정 및 삭제할 수 있습니다. 
- **주문 상태 업데이트**: 주문의 상태를 업데이트하고 처리합니다.

### 장바구니 관리
- **장바구니에 아이템 추가**: 사용자가 장바구니에 아이템을 추가합니다. 아이템이 이미 장바구니에 있을 경우, 수량을 업데이트합니다.
- **장바구니 아이템 수량 업데이트**: 장바구니의 아이템 수량을 업데이트합니다.
- **장바구니 아이템 삭제**: 장바구니에서 특정 아이템을 삭제합니다.
- **장바구니 세부 사항 보기**: 사용자가 장바구니의 세부 사항과 총 금액을 조회합니다.

## 구현된 기능

### API 테스트 (Postman)

- [Postman Collection](KTECH-PROJECT3-SHOPPING-MALL.postman_collection.json): 모든 API 엔드포인트에 대한 테스트 컬렉션 파일입니다.

### 데이터베이스 테이블

- [Entity Diagram](docs/EntityDiagram.png): 데이터베이스 엔티티와 관계를 시각화한 다이어그램입니다.

### 워크플로우

- [Workflow Diagram](docs/WorkflowDiagram.md): 시스템 상호작용 및 주요 프로세스를 나타낸 다이어그램입니다.

### 패키지 구조

- [패키지 구조 다이어그램](docs/ProjectStructure.md): 프로젝트의 패키지 구조를 시각화한 다이어그램입니다.

## 기술 스택

이 프로젝트는 다음과 같은 기술 스택을 사용하여 개발되었습니다:

- **프레임워크**: Spring Boot 3.3.3
- **데이터베이스**: SQLite
- **의존성**:
    - ***Spring Web***:  웹 애플리케이션을 구축하기 위한 핵심 모듈입니다.
    - ***Thymeleaf***: 서버 측 HTML 템플릿 엔진입니다.
    - ***Lombok***: 자바의 보일러플레이트 코드를 줄여주는 라이브러리입니다.
    - ***Spring Data JPA***: 데이터베이스와의 상호작용을 간소화해주는 JPA 구현체입니다.
    - ***Spring Security***: 애플리케이션의 보안 기능을 제공하는 프레임워크입니다.
- **API 테스트 도구**: Postman
- **다이어그램 도구**: [dbdiagram.io](https://dbdiagram.io)
- **개발 환경**: IntelliJ IDEA

## 체크포인트 및 도전

### 체크포인트

- [x] **사용자 인증 및 권한 처리**: JWT 토큰 기반 인증 구현
- [x] **회원가입**: 필수 정보 입력 및 프로필 이미지 업로드
- [x] **사용자 권한 관리**: 비활성 사용자, 일반 사용자, 사업자 사용자, 관리자 역할 관리
- [x] **쇼핑몰 개설 및 관리**: 쇼핑몰 개설 요청 및 승인, 상품 등록, 수정, 삭제
- [x] **쇼핑몰 조회 및 상품 검색**: 비활성 사용자를 제외한 사용자 쇼핑몰 및 상품 검색
- [x] **상품 구매**: 구매 요청, 금액 전달, 재고 업데이트.
- [x] **장바구니 관리**: 장바구니에 아이템 추가, 수량 업데이트, 삭제, 장바구니 세부 사항 보기

### 도전

- [ ] **클라이언트 추가하기**: HTML, CSS, JS를 사용하여 프론트엔드를 구현하여 완성된 백엔드를 활용합니다.

## 프로젝트 실행 및 테스트

1. **프로젝트 실행**
    - GitHub에서 프로젝트를 클론합니다.
    ```
   git clone https://github.com/huongttt3506/KTECH-PROJECT3-Shopping-Mall.git
     ```
    - `IntelliJ`에서 프로젝트를 열고,  Gradle 의존성을 다운로드합니다.
    - `application.yaml` 파일을 설정합니다.
    - `ShoppingMallApplication` 클래스를 실행합니다.

2. **테스트**
    - Postman을 열고, 제공된 컬렉션 파일을 임포트합니다.
    - 각 API 엔드포인트를 테스트하여 기능을 확인합니다.

## 프로젝트 진행 중의 어려움
1. **잡한 데이터베이스 설계 및 엔티티 관계**:
   
    데이터베이스 테이블과 엔티티 간의 관계를 설계하는 과정에서 많은 복잡성을 느꼈습니다. 특히, 다양한 관계 (일대일, 일대다, 다대다)와 제약 조건을 올바르게 설정하고 관리하는 데 어려움을 겪었습니다. 이로 인해 데이터베이스의 전체 구조와 성능을 고려하는 것이 매우 도전적이었습니다.
2. **프론트엔드 작업의 부재**:
   
    프로젝트의 목표는 백엔드 시스템을 개발하는 것이었지만, 프론트엔드를 개발할 시간이 부족했습니다. 이로 인해 사용자는 API를 통해 시스템과 상호작용해야 했으며, 최종 사용자의 시각적인 경험을 개선할 기회를 놓치게 되어 아쉬움이 남습니다. 프론트엔드를 구현하면 백엔드와의 통합이 보다 원활하게 이루어지고, 사용자 경험이 더욱 향상될 수 있을 것입니다.

### 파일 링크

- [Postman Collection](KTECH-PROJECT3-SHOPPING-MALL.postman_collection.json)
- [Entity Diagram](docs/EntityDiagram.png)
- [Workflow Diagram](docs/WorkflowDiagram.md)
- [패키지 구조 다이어그램](docs/ProjectStructure.md)
- [README.md](README.md)
